# Story Architect Configuration
app:
  name: "Story Architect"
  version: "1.0.0"
  max_retries: 3
  session_autosave: true

# Gemini API Settings
gemini:
  model: "gemini-3-pro-preview" # gemini-3-pro-preview, gemini-2.5-pro
  temperature: 0.7
  max_output_tokens: 32000
  timeout: 300  # seconds

  # Authentication Mode
  use_vertex_ai: false  # Set to true to use Vertex AI instead of direct API

  # Vertex AI Configuration (only used when use_vertex_ai: true)
  vertex_ai:
    project_id: ""  # Set via GOOGLE_CLOUD_PROJECT env var or here
    location: "us-central1"  # Options: us-central1, us-east1, europe-west1, asia-northeast1, global
    credentials_file: "google-credentials.json"  # Path to service account JSON file

# Agent Configurations
agents:
  agent_1:
    name: "Screenplay Generator"
    enabled: true
    temperature: 0.8
    max_output_tokens: 32000
    prompt_file: "prompts/agent_1_prompt.txt"

  agent_2:
    name: "Scene Breakdown"
    enabled: true
    temperature: 0.7
    max_output_tokens: 32000
    prompt_file: "prompts/agent_2_prompt.txt"
    output_format: "json"

  agent_3:
    name: "Shot Breakdown"
    enabled: true
    temperature: 0.6
    max_output_tokens: 32000
    prompt_file: "prompts/agent_3_prompt.txt"
    output_format: "json"
    strict_json: true

  agent_4:
    name: "Shot Grouping"
    enabled: true
    temperature: 0.5
    max_output_tokens: 32000
    prompt_file: "prompts/agent_4_prompt.txt"
    output_format: "json"

  # Phase 2: Image Generation Agents
  agent_5:
    name: "Character Creator"
    enabled: true
    temperature: 0.6
    model: "gemini-2.5-flash-image"
    aspect_ratio: "1:1"
    image_size: "2K"
    grid_aspect_ratio: "16:9"
    prompt_file: "prompts/agent_5_prompt.txt"
    # Image Provider Settings (gemini or fal)
    image_provider: "fal"
    fal_text_to_image_model: "fal-ai/bytedance/seedream/v4/text-to-image"

  agent_6:
    name: "Parent Image Generator"
    enabled: true
    temperature: 0.7
    model: "gemini-2.5-flash-image"
    aspect_ratio: "16:9"
    image_size: "2K"
    max_retries: 3
    prompt_file: "prompts/agent_6_prompt.txt"
    use_prompt_optimizer: true  # Use Gemini Pro 2.5 to optimize prompts before image generation
    optimizer_prompt_file: "prompts/agent_6_optimizer_prompt.txt"
    # Image Provider Settings (gemini or fal)
    image_provider: "fal"
    fal_text_to_image_model: "fal-ai/bytedance/seedream/v4/text-to-image"
    fal_edit_model: "fal-ai/bytedance/seedream/v4/edit"

  agent_7:
    name: "Parent Verification"
    enabled: true
    temperature: 0.3
    verification_model: "gemini-3-pro-preview"
    max_retries: 3
    confidence_threshold: 0.7
    soft_failure_mode: true
    verification_prompt_file: "prompts/agent_7_verification_prompt.txt"
    modifier_prompt_file: "prompts/agent_7_prompt_modifier.txt"
    agent_6_prompt_file: "prompts/agent_6_prompt.txt"  # For regeneration (uses Agent 6's generation template)
    # Image Provider Settings (gemini or fal)
    image_provider: "fal"
    fal_text_to_image_model: "fal-ai/bytedance/seedream/v4/text-to-image"
    fal_edit_model: "fal-ai/bytedance/seedream/v4/edit"

  agent_8:
    name: "Child Image Generator"
    enabled: true
    temperature: 0.7
    model: "gemini-2.5-flash-image"
    aspect_ratio: "16:9"
    max_retries: 3
    prompt_file: "prompts/agent_8_prompt.txt"
    use_prompt_optimizer: true  # Use Gemini Pro 2.5 for precise edit prompts
    optimizer_prompt_file: "prompts/agent_8_optimizer_prompt.txt"
    # Image Provider Settings (gemini or fal)
    image_provider: "fal"
    fal_edit_model: "fal-ai/bytedance/seedream/v4/edit"

  agent_9:
    name: "Child Verification"
    enabled: true
    temperature: 0.3
    verification_model: "gemini-3-pro-preview"
    max_retries: 3
    confidence_threshold: 0.7
    consistency_threshold: 0.6
    soft_failure_mode: true
    verification_prompt_file: "prompts/agent_9_verification_prompt.txt"
    modifier_prompt_file: "prompts/agent_9_prompt_modifier.txt"
    agent_8_prompt_file: "prompts/agent_8_prompt.txt"  # For regeneration (uses Agent 8's edit template)
    # Image Provider Settings (gemini or fal)
    image_provider: "fal"
    fal_edit_model: "fal-ai/bytedance/seedream/v4/edit"

# Output Settings
output:
  base_directory: "outputs/projects"
  log_directory: "outputs/logs"
  save_intermediate: true
  create_timestamp_folders: true

# GUI Settings
gui:
  theme: "light"
  page_title: "Story Architect"
  page_icon: "ðŸŽ¬"
  layout: "wide"
  show_session_history: true
  max_session_history: 20
